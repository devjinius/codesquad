# 객체지향 프로그래밍

## 객체란

현실세계의 추상적인 것들이 모두 객체이다. 예를들어 컵이라고 생각했을때 떠오르는 것이 모두 객체다.

그런데 컵은 손잡이가 있는 컵, 머그컵, 소주잔 등등 떠올리는 컵은 다양하다. 그 중 컵이라면 이런건 있어야지! 하고 정의하는 것이 클래스다. 클래스에는 속성과 행동이 있다. 그리고 그걸 하나하나 만들면 추상적인 객체다(인스턴스)

## OOP

이 객체(인스턴스)는 각각 다른 메모리에 들어간다. 따라서 객체 a가 죽는다고 b에 영향이 없다.

그런데 영향을 줘야하는 경우도 있다. 책과 현금의 연관관계는 없지만 내가 책을 사면 현금이 줄어든다.

이렇게 객체간의 연관성을 정리하는 것이 객체 지향 프로그래밍이다.

그 연관성을 어떻게하면 잘 정리할 수 있을까 하고 고민하면 그게 디자인(설계)다. 프로그램을 객체지향적으로 설계하는 것은 이 의존성을 어떤 방식으로 관리할 것인가를 정리하는 것이다.

대표적으로 좋은 OOP는 유지보수에 용이하며, 높은 응집도, 낮은 결합도를 가진다.

### 핵심 개념

OOP 핵심 개념은 아래와 같다.

- Class
- 캡슐화(Encapsulation)
- 상속(Inheritance)
- 다형성(polymorphism)
- 추상화(abstraction)

어느 문서에서는 `캡슐화, 상속, 다형성` 세가지라고도 얘기한다.

#### 추상화

DB에서 모델링의 개념과도 일맥상통하는 것 같다. 모델링은 리얼 월드에서 내가 관심있는 것만 뽑아서 재정의하는 것이다.

추상화도 이와 비슷하게 세상의 객체들 중 원하는 필요한 특성만 단순화하여 정의하는 것이라고 생각한다.

흔히 예를 드는 차에서 벤츠, BMW, 현대, 혼다 등등은 모두 `차`라는 추상화를 할 수 있다. 또한 소나타, 그랜저, 아반떼 등은 모두 `현대차`라는 추상화가 가능하다.

구체적인것에서 특성만 뽑아 상위 개념을 잡는 것이 추상화라고 생각한다.

구체화의 반대라고 생각하면 좀 더 쉽지 않을까

#### 캡슐화

클래스에는 속성과 행동이 있다. 캡슐화는 쉽게 말해서 속성을 직접 접근할 수 없고 행동(메서드)을 통해서 접근 가능하게 만드는 것이다.

또한 실제 구현 내용의 일부를 외부에 감추는 것을 말한다.

데이터를 직접 수정하지 못하게 하고 메서드를 통해 사용 가능하게 한다. 따라서 내부 구조가 바뀌더라도 이를 이용하는 메서드의 반환값이 바뀌지 않는 이상 다른 객체에게 영향을 주지 않는다. 즉 결합도를 낮춘다.

또 얻는 부수적인 효과로는 외부에서 필요하지 않는 내용은 굳이 공개하지 않을 수 있다는 점이다.

#### 상속

상속은 중복 제거에 큰 힘을 가진다. 글자그대로 속성과 행동을 상속 받는 것이다. 핸드폰 클래스의 특징을 아이폰이나 갤럭시가 가질 수 있는 것이 상속이다. 또한 아이폰 6, 7, 8, 10등등의 공통인 점은 아이폰 클래스에 만들어 이를 상속받게 할 수 있다.

그럼 중복이 제거됩니다. 로직이 바뀌거나 속성의 추가 삭제의 경우에도 한군데에서만 수정하면 되기 때문이다.
